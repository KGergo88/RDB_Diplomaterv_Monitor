RDB Diplomaterv Monitor
=======================

A monitor program for the RDB Diplomaterv project (https://github.com/KGergo88/RDB_Diplomaterv).



Table of contents
=================

	1 - Description
                1a - Usage
                1b - Measurement data protocol
	2 - Dependencies
	3 - Portability
	4 - Building the project
        5 - Release notes
        6 - License



1 - Description
===============

The RDB Diplomaterv Monitor was developed in order to visualise the measurement results of the RDB Diplomaterv project or any other software that produces results
that are following the measurement data protocol (see chapter 1b).

The data that will be displayed are received through a serial port. In the tested environment the ST_LinkV2 debugger of the RDB Diplomaterv project
was connected to the PC running the RDB Diplomaterv Monitor with a USB cable and the data was received through either a COM port (Windows) or a device in the /dev folder (Linux).



1a - Usage
==========

The usage of the prgram is quite straightforward: we need to enter the name of the port we would like to listen to into the textfield in the bottom right corner and then click the
"Open Serial Port" button. The port name can be for example "COM3" on Windows or "/dev/ttyACM0" on Linux. The correct name can be found out for example by checking the available ports
before and after connecting the device to the PC and looking for a port that appeared after making the connection.

The serial port settings that are expected by the program:
Baudrate:     115200 bps
Data bits:    8
Stop bits:    1
Parity:       none
Flow control: none

The status field in the lower side of the window tells whether the port could be opened or not. After successfully connecting to the port, the text on the button will change to
"Close Serial Port". It should be noted that if any other program listens to the same port that we have opened, then the data on the port will not completely received by the monitor,
and this might lead to dropped measurement results because of violations of the measurement data protocol. Then the program will listen to the opened serial port and list every diagram
that was received on the port on the right side of the window. The listed diagrams can be selected for displaying by clicking on them.



1b - Measurement data protocol
==============================

The data needs to be formatted the following way in order to be processed by the program:
<<<START>>>
"X_AXIS_TITLE","Y1_AXIS_TITLE",...,"Yn_AXIS_TITLE",
"X_AXIS_DATA0","Y1_AXIS_DATA0",...,"Yn_AXIS_DATA0",
...
"X_AXIS_DATAn","Y1_AXIS_DATAn",...,"Yn_AXIS_DATAn",
<<<END>>>

The rules:
	- The " symbols are not part of the format they are only marking the beginning and the end of an element
	- The measurement data is always starting with the pattern "<<<START>>>"
	- After the starting pattern the headline is transmitted:
		- Every headline element is followed by a comma "," 
		- The headline tells how many different signals were measured and their names
		- There has to be always at least two headline elements transmitted: the common X axis and at least one signal
		- The headline elements:
			- can contain alphanumeric characters (0..9, A..Z, a..z)
	- After the headline the measured data is transmitted:
		- Every dataline element is followed by a comma "," 
		- There has to be as many elements in a data line as there was in the headline
		- The data line elements are the values that were measured at the same time
		- The measured signal values in the data line belong to the first data line element, the common X axis value
		- The data line elements:
			- are integer values
			- can have an optional "+" or "-" sign as a prefix, for example "+25" or "-568"
			- without a sign prefix are considered to be positive
	- The measurement data is always ending with the pattern "<<<END>>>"
	- This is called a measurement session that contains all data needed to describe a diagram
	- If there was an error detected in one of the lines then the whole session is invalid



2 - Dependencies
================

The RDB Diplomaterv Monitor was developed in C++14 and it depends on the following external components:
	- Qt5 v5.11.1 or newer
		- The used components are Core, Widgets, and Charts
		- You can download it from the www.qt.io website
	- Boost v1.65 or newer, the only used component is the ASIO
		- You may download it from the www.boost.org website



3 - Portability
===============

The RDB Diplomaterv Monitor was developed on an Ubuntu 18.04 LTS Linux but it tries to ensure compatibility with Windows 10 as much as possible as well.



4 - Building the project
========================

The RDB Diplomaterv Monitor can be compiled only using the Qt Creator IDE at the moment.



5 - Release notes
=================

v1.0.0:
    First release:
        - The program supports the basic functionality:
            + Opening a serial port and listening to it
            + Processing and displaying the diagrams received on the serial port
            + Keeping the received diagrams in the list and allowing switching between them

    Errata:
        - A probable memory leak is present in the program
            + It can be seen when there are at least two diagrams listed in the program
            + When it is being switched between them, the memory usage of the program is increasing with every switch



6 - License
===========

    RDB Diplomaterv Monitor
	A monitor program for the RDB Diplomaterv project
    Copyright (C) 2018  András Gergő Kocsis

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
